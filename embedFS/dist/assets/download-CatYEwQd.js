import{_ as B,g as I,b as N,e as P,f as i,j as $,c as p,o as d,A as f,l as e,F as V,a as r,w as m,ah as v,s as w,v as x,t as u,k as y,y as F,G as M}from"./index-D0_VvR3J.js";import U from"./modInfo-C3N_PcYm.js";import{m as _}from"./mod-CZ879SoE.js";import{V as T}from"./VSelect-DehtkG2o.js";import{V as b}from"./VRow-T4pZZsdz.js";import{V as k}from"./VTextField-BDhl3HoB.js";import{V as z}from"./VSkeletonLoader-DlxWhbhq.js";import{V as L}from"./VPagination-_V6tKqvs.js";import"./VChip-Bl_XNOgC.js";import"./index-BYTG7FXw.js";import"./VTooltip-DeNPgE8E.js";import"./VDialog-laDXRq-G.js";import"./dialog-transition-Bnn_UDo8.js";import"./VTable-CvulZgfR.js";import"./VContainer-BdgJJao2.js";/* empty css              */import"./axios-B3QxYxjQ.js";import"./VInput-CQ0d1937.js";import"./VList-B7_QlUC1.js";import"./ssrBoot-CVvmSRtT.js";import"./VMenu-gAht7neB.js";import"./VCheckboxBtn-DD1lUkrO.js";import"./VSelectionControl-KRPi77qu.js";const C={class:"item-container my-8"},K={class:"d-flex justify-end mt-4"},j={class:"align-content-center mr-2"},A={__name:"download",setup(E){const S=I(),{t:s}=N(),{mobile:D}=P(),g=i([{title:s("game.mod.download.searchName"),value:"text"},{title:"ID",value:"id"}]),c=i(!1),n=i({total:0,rows:[]});i();const t=i({page:1,pageSize:36,searchText:"",searchType:"text"}),l=(h=!0)=>{h&&(t.value.page=1),c.value=!0,_.search.get(t.value).then(a=>{n.value.rows=a.data.rows,n.value.total=a.data.total,t.value.searchType==="id"&&M("ID搜索不显示评分","info")}).finally(()=>{c.value=!1})};return $(()=>{l()}),(h,a)=>(d(),p("div",null,[e(D)?(d(),p(V,{key:0},[r(b,{class:"ma-1"},{default:m(()=>[r(T,{modelValue:e(t).searchType,"onUpdate:modelValue":a[0]||(a[0]=o=>e(t).searchType=o),items:e(g),density:"compact"},null,8,["modelValue","items"])]),_:1}),r(b,{class:"mx-1"},{default:m(()=>[r(k,{modelValue:e(t).searchText,"onUpdate:modelValue":a[1]||(a[1]=o=>e(t).searchText=o),label:e(t).searchType==="text"?e(s)("game.mod.download.searchPlaceholderName"):e(s)("game.mod.download.searchPlaceholderID"),clearable:"",density:"compact",onKeyup:v(l,["enter"])},{append:m(()=>[r(w,{size:"small",onClick:l},{default:m(()=>[x(u(e(s)("game.mod.download.searchButton")),1)]),_:1})]),_:1},8,["modelValue","label"])]),_:1})],64)):(d(),f(k,{key:1,modelValue:e(t).searchText,"onUpdate:modelValue":a[3]||(a[3]=o=>e(t).searchText=o),label:e(t).searchType==="text"?e(s)("game.mod.download.searchPlaceholderName"):e(s)("game.mod.download.searchPlaceholderID"),clearable:"",class:"my-2",onKeyup:v(l,["enter"])},{prepend:m(()=>[r(T,{modelValue:e(t).searchType,"onUpdate:modelValue":a[2]||(a[2]=o=>e(t).searchType=o),items:e(g)},null,8,["modelValue","items"])]),append:m(()=>[r(w,{size:"large",onClick:l},{default:m(()=>[x(u(e(s)("game.mod.download.searchButton")),1)]),_:1})]),_:1},8,["modelValue","label"])),e(c)?(d(),f(z,{key:2,type:"table-row@20",class:"my-8"})):(d(),p(V,{key:3},[y("div",C,[(d(!0),p(V,null,F(e(n).rows,o=>(d(),f(U,{key:o.id,mod:o,"room-i-d":e(S).room.id},null,8,["mod","room-i-d"]))),128))]),y("div",K,[y("span",j,u(e(s)("game.mod.download.total"))+" "+u(e(n).total),1),r(L,{modelValue:e(t).page,"onUpdate:modelValue":[a[4]||(a[4]=o=>e(t).page=o),a[9]||(a[9]=o=>l(!1))],variant:"text",length:Math.ceil(e(n).total/e(t).pageSize),"total-visible":7,onFirst:a[5]||(a[5]=o=>l(!1)),onLast:a[6]||(a[6]=o=>l(!1)),onNext:a[7]||(a[7]=o=>l(!1)),onPrev:a[8]||(a[8]=o=>l(!1))},null,8,["modelValue","length"])])],64))]))}},ue=B(A,[["__scopeId","data-v-81935ebd"]]);export{ue as default};
