import{_ as E}from"./Result-gWT-ossO.js";import{ai as L,aj as M,aQ as U,au as j,a as t,n as q,K as Q,aT as K,aU as X,aA as J,aX as O,ap as W,an as Y,g as Z,d as ee,e as le,b as ae,f as I,j as te,a8 as se,Q as oe,c as R,l as e,o as r,A as d,w as l,ab as ne,k as n,t as s,D as m,s as w,v as o,p as ce,x as re,V as y,ae as G,F as z,G as D}from"./index-D0_VvR3J.js";import{l as F}from"./logs-BPuWEDqr.js";import{V as ue}from"./VContainer-BdgJJao2.js";import{V as de}from"./VRow-T4pZZsdz.js";import{V as x}from"./VCol-B5VJ-k2B.js";import{V as i}from"./VChip-Bl_XNOgC.js";import"./axios-B3QxYxjQ.js";/* empty css              */import"./index-BYTG7FXw.js";const H=Symbol.for("vuetify:v-item-group"),ie=M({...O(),...J({selectedClass:"v-item--selected"}),...X(),...K()},"VItemGroup"),me=L()({name:"VItemGroup",props:ie(),emits:{"update:modelValue":f=>!0},setup(f,_){let{slots:b}=_;const{themeClasses:C}=U(f),{isSelected:a,select:g,next:v,prev:k,selected:u}=j(f,H);return()=>t(f.tag,{class:Q(["v-item-group",C.value,f.class]),style:q(f.style)},{default:()=>[b.default?.({isSelected:a,select:g,next:v,prev:k,selected:u.value})]})}}),S=L()({name:"VItem",props:W(),emits:{"group:selected":f=>!0},setup(f,_){let{slots:b}=_;const{isSelected:C,select:a,toggle:g,selectedClass:v,value:k,disabled:u}=Y(f,H);return()=>b.default?.({isSelected:C.value,selectedClass:v.value,select:a,toggle:g,value:k.value,disabled:u.value})}}),fe={class:"card-header"},ge={class:"card-header mr-4 my-4"},_e={class:"ma-4 d-flex align-center"},he={class:"card-header mr-4 my-4"},pe={class:"ma-4 d-flex align-center"},ve={class:"card-header mr-4 my-4"},ke={class:"ma-4 d-flex align-center"},ye={class:"card-header mr-4 my-4"},be={class:"ma-4 d-flex align-center"},Ce={class:"card-header mr-4 my-4"},Ve={class:"ma-4 d-flex align-center"},Re={__name:"clean",setup(f){const _=Z(),b=ee(),{mobile:C}=le(),{t:a}=ae(),g=I({game:0,chat:0,steam:0,access:0,runtime:0}),v=I(!1),k=()=>{const T={roomID:_.room.id};v.value=!0,F.clean.info.get(T).then(p=>{u.value=[],g.value=p.data}).finally(()=>{v.value=!1})},u=I([]),A=I(!1),$=()=>{if(u.value.length===0){D(a("logs.clean.noSelected"),"error");return}A.value=!0;const T={roomID:_.room.id,game:u.value.includes(0),chat:u.value.includes(1),steam:u.value.includes(2),access:u.value.includes(3),runtime:u.value.includes(4)};F.clean.delete(T).then(p=>{D(p.message),u.value=[],k()}).finally(()=>{A.value=!1})},V=()=>Math.max(2,Math.floor(N.value-120)),N=I(window.innerHeight),P=se(()=>{N.value=window.innerHeight},200);return te(async()=>{_.room.id!==0&&(k(),window.addEventListener("resize",P))}),oe(()=>{window.removeEventListener("resize",P)}),(T,p)=>{const B=E;return e(_).gameVersion.local!==0?(r(),R(z,{key:0},[e(_).room.id!==0?(r(),d(y,{key:0,height:V()},{default:l(()=>[t(ne,null,{default:l(()=>[n("div",fe,[n("span",null,s(e(a)("logs.clean.title")),1),n("div",null,[e(C)?m("",!0):(r(),d(w,{key:0,color:"info",class:"mr-2",onClick:p[0]||(p[0]=c=>u.value=[0,1,2,3,4])},{default:l(()=>[o(s(e(a)("logs.clean.selectAll")),1)]),_:1})),t(w,{color:"error",class:"mr-2",onClick:$},{default:l(()=>[o(s(e(a)("logs.clean.delete")),1)]),_:1}),t(w,{color:"default",loading:e(v),onClick:k},{default:l(()=>[o(s(e(a)("logs.clean.refresh")),1)]),_:1},8,["loading"])])])]),_:1}),t(ce,null,{default:l(()=>[t(me,{modelValue:e(u),"onUpdate:modelValue":p[1]||(p[1]=c=>re(u)?u.value=c:null),multiple:""},{default:l(()=>[t(ue,{height:V()-70,style:{"overflow-y":"auto"}},{default:l(()=>[t(de,null,{default:l(()=>[t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:h})=>[t(y,{onClick:h},{default:l(()=>[n("div",ge,[n("div",_e,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.game")),1)]),_:1}),n("span",null,s(e(G)(e(g).game)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:h})=>[t(y,{onClick:h},{default:l(()=>[n("div",he,[n("div",pe,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.chat")),1)]),_:1}),n("span",null,s(e(G)(e(g).chat)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:h})=>[t(y,{onClick:h},{default:l(()=>[n("div",ve,[n("div",ke,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.steam")),1)]),_:1}),n("span",null,s(e(G)(e(g).steam)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:h})=>[t(y,{onClick:h},{default:l(()=>[n("div",ye,[n("div",be,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.access")),1)]),_:1}),n("span",null,s(e(G)(e(g).access)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1}),t(x,{cols:"12",md:"6"},{default:l(()=>[t(S,null,{default:l(({isSelected:c,toggle:h})=>[t(y,{onClick:h},{default:l(()=>[n("div",Ce,[n("div",Ve,[t(i,{label:"",class:"mr-4"},{default:l(()=>[o(s(e(a)("logs.clean.runtime")),1)]),_:1}),n("span",null,s(e(G)(e(g).runtime)),1)]),c?m("",!0):(r(),d(i,{key:0,color:"info"},{default:l(()=>[o(s(e(a)("logs.clean.select")),1)]),_:1})),c?(r(),d(i,{key:1,color:"success"},{default:l(()=>[o(s(e(a)("logs.clean.selected")),1)]),_:1})):m("",!0)])]),_:2},1032,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["height"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["height"])):(r(),d(B,{key:1,title:e(a)("global.noRoomSelected.title"),"sub-title":e(a)("global.noRoomSelected.subTitle"),type:"error",height:V()},{default:l(()=>[t(w,{to:"/rooms",class:"mt-4"},{default:l(()=>[o(s(e(a)("global.noRoomSelected.button")),1)]),_:1})]),_:1},8,["title","sub-title","height"]))],64)):(r(),R(z,{key:1},[e(b).userInfo.role==="admin"?(r(),d(B,{key:0,title:e(a)("global.noGame.title"),"sub-title":e(a)("global.noGame.subTitle"),height:V(),type:"error"},{default:l(()=>[t(w,{to:"/install",class:"mt-4"},{default:l(()=>[o(s(e(a)("global.noGame.button")),1)]),_:1})]),_:1},8,["title","sub-title","height"])):(r(),d(B,{key:1,title:e(a)("global.noGameNoAdmin.title"),"sub-title":e(a)("global.noGameNoAdmin.subTitle"),height:V(),type:"error"},null,8,["title","sub-title","height"]))],64))}}};export{Re as default};
