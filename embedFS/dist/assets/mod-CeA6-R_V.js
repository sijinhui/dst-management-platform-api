import{j as T,f as v,e as x,b as U,O as B,c as i,o as n,k as C,a as m,w as r,l as t,z as N,A as p,v as V,t as h,F as f,y as c,x as b,aD as w,G as g}from"./index-D0_VvR3J.js";import{C as y}from"./CodeEditor-UPz5RlHd.js";import{a as D,V as W}from"./VRadioGroup-BFGVeut_.js";import{V as E}from"./VChip-Bl_XNOgC.js";import{T as S}from"./index-9_CLTx8V.js";import{c as F,d as H,e as R,f as A}from"./VTabs-BDSGrPgI.js";import"./VSelectionControl-KRPi77qu.js";import"./VInput-CQ0d1937.js";import"./index-BYTG7FXw.js";import"./VTooltip-DeNPgE8E.js";import"./ssrBoot-CVvmSRtT.js";const G={class:"my-4"},M={key:0},j={key:1},ae={__name:"mod",props:{worlds:{type:Array,default:()=>[]},mod:{type:String,default:""},modInOne:{type:Boolean,default:!1},theme:{type:String,default:"light"},tabWindowHeight:{type:Number,default:600}},setup(I,{expose:O}){const d=I;T(()=>{e.value.modInOne=d.modInOne,e.value.modData=d.mod,e.value.worlds=d.worlds,d.worlds.length!==0&&(o.value=e.value.worlds[0].name)}),x();const{t:u}=U(),e=v({modInOne:!1,modData:"",worlds:[]}),k=()=>{e.value.modInOne||(o.value=e.value.worlds[0].name)},o=v("");return O({validate:async()=>{const s={validate:!1,formData:{}};if(e.value.modInOne)try{w.parse(e.value.modData)}catch{return g(u("game.base.step3.modDataError"),"error"),s}else for(let l of e.value.worlds)try{w.parse(l.modData)}catch{return g(u("game.base.step3.modDataError"),"error"),s}return s.validate=!0,s.formData=e.value,s}}),B(o,s=>{s||(o.value=e.value.worlds[0].name)}),(s,l)=>(n(),i(f,null,[C("div",G,[m(W,{modelValue:t(e).modInOne,"onUpdate:modelValue":[l[0]||(l[0]=a=>t(e).modInOne=a),k],inline:""},{prepend:r(()=>[N((n(),p(E,null,{default:r(()=>[V(h(t(u)("game.base.step3.modInOne.name")),1)]),_:1})),[[S,t(u)("game.base.step3.modInOne.tip")]])]),default:r(()=>[m(D,{label:t(u)("game.base.step3.modInOne.enable"),value:!0,class:"mr-4"},null,8,["label"]),m(D,{label:t(u)("game.base.step3.modInOne.disable"),value:!1,class:"mr-4"},null,8,["label"])]),_:1},8,["modelValue"])]),t(e).modInOne?(n(),i("div",M,[m(y,{modelValue:t(e).modData,"onUpdate:modelValue":l[1]||(l[1]=a=>t(e).modData=a),height:d.tabWindowHeight,theme:d.theme==="dark"?"lucario":"idea",class:"mt-4",mode:"lua",style:{width:"100%"}},null,8,["modelValue","height","theme"])])):(n(),i("div",j,[m(H,{modelValue:t(o),"onUpdate:modelValue":l[2]||(l[2]=a=>b(o)?o.value=a:null)},{default:r(()=>[(n(!0),i(f,null,c(t(e).worlds,a=>(n(),p(F,{value:a.name},{default:r(()=>[V(h(a.name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),m(A,{modelValue:t(o),"onUpdate:modelValue":l[3]||(l[3]=a=>b(o)?o.value=a:null)},{default:r(()=>[(n(!0),i(f,null,c(t(e).worlds,a=>(n(),p(R,{key:a.name,value:a.name},{default:r(()=>[m(y,{modelValue:a.modData,"onUpdate:modelValue":_=>a.modData=_,height:d.tabWindowHeight-54,theme:d.theme==="dark"?"lucario":"idea",class:"mt-4",mode:"lua",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue","height","theme"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))],64))}};export{ae as default};
