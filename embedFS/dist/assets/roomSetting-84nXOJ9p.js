import{j,f as R,b as I,e as q,A as n,o as m,w as t,a,l as e,D as c,z as d,k as g,t as V,c as A,F as G,y as L,s as M,v as O,G as $}from"./index-D0_VvR3J.js";import{V as y}from"./VAlert-Cnu_GEOX.js";import{V as f}from"./VRow-T4pZZsdz.js";import{V as p}from"./VCol-B5VJ-k2B.js";import{V as S,a as i}from"./VRadioGroup-BFGVeut_.js";import{T as b}from"./index-9_CLTx8V.js";import{V as k}from"./VSpacer-BWidqFwK.js";import{V as C}from"./VTextField-BDhl3HoB.js";import{V as U}from"./VMenu-gAht7neB.js";import{V as T}from"./VTimePicker-2Y0tFJ9y.js";import{V as h}from"./VNumberInput-ChTB30Zu.js";import{V as z}from"./VForm-ZCkSOZOI.js";/* empty css              */import"./VSelectionControl-KRPi77qu.js";import"./VInput-CQ0d1937.js";import"./index-BYTG7FXw.js";import"./VTooltip-DeNPgE8E.js";import"./dialog-transition-Bnn_UDo8.js";const E={class:"fcc h-100"},J={style:{width:"30px"}},P={style:{width:"55px"}},de={__name:"roomSetting",props:{roomSetting:{type:Object,default:()=>({})}},setup(B,{expose:D}){const x=B;j(()=>{Object.keys(x.roomSetting).length!==0&&(s.value=x.roomSetting)});const{t:l}=I(),{mobile:u}=q(),w=R(),s=R({backup:{enable:!0,setting:[{time:"06:00:00"}]},backupClean:{enable:!1,setting:30},restart:{enable:!1,setting:"06:30:00"},keepalive:{enable:!1,setting:30},scheduledStartStop:{enable:!1,setting:{start:"07:00:00",stop:"01:00:00"}},tickRate:15,startType:"32-bit"}),F=R({backupClean:[v=>v?!0:l("game.base.step4.form.backupClean.required")],keepalive:[v=>v?!0:l("game.base.step4.form.keepalive.required")]}),N=v=>{if(s.value.backup.setting.length===1){$(l("game.base.step4.form.backup.deleteBlock"),"error");return}s.value.backup.setting=s.value.backup.setting.filter(o=>o.time!==v)};return D({validate:async()=>{const v={validate:!1,formData:{}},{valid:o}=await w.value.validate();return o?{validate:!0,formData:s.value}:v}}),(v,o)=>(m(),n(z,{ref_key:"roomSettingFormRef",ref:w,class:"mt-4","fast-fail":""},{default:t(()=>[a(y,{color:"primary",title:e(l)("game.base.step4.form.backup.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(f,{class:"mt-0"},{default:t(()=>[a(p,null,{default:t(()=>[d((m(),n(S,{modelValue:e(s).backup.enable,"onUpdate:modelValue":o[0]||(o[0]=r=>e(s).backup.enable=r),inline:"",color:"primary",class:"mt-2"},{prepend:t(()=>[g("span",null,V(e(l)("game.base.step4.form.backup.name")),1)]),default:t(()=>[a(i,{label:e(l)("game.base.step4.form.backup.enable"),value:!0},null,8,["label"]),a(i,{label:e(l)("game.base.step4.form.backup.disable"),value:!1},null,8,["label"])]),_:1},8,["modelValue"])),[[b,e(l)("game.base.step4.form.backup.tip.name")]])]),_:1}),e(u)?c("",!0):(m(),n(k,{key:0}))]),_:1}),a(f,{class:"mt-0"},{default:t(()=>[(m(!0),A(G,null,L(e(s).backup.setting,r=>(m(),n(p,{cols:e(u)?10:3},{default:t(()=>[d((m(),n(C,{modelValue:r.time,"onUpdate:modelValue":_=>r.time=_,disabled:!e(s).backup.enable,"append-icon":"ri-close-line",label:e(l)("game.base.step4.form.backup.time"),"onClick:append":_=>N(r.time)},{default:t(()=>[a(U,{"close-on-content-click":!1,activator:"parent"},{default:t(()=>[a(T,{modelValue:r.time,"onUpdate:modelValue":_=>r.time=_,"use-seconds":"",format:"24hr"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","label","onClick:append"])),[[b,e(l)("game.base.step4.form.backup.tip.time")]])]),_:2},1032,["cols"]))),256)),a(p,{cols:1},{default:t(()=>[g("div",E,[a(M,{variant:"text",color:"primary",disabled:!e(s).backup.enable,density:"comfortable","prepend-icon":"ri-add-line",onClick:o[1]||(o[1]=r=>e(s).backup.setting.push({time:"00:00:00"}))},{default:t(()=>[O(V(e(l)("game.base.step4.form.backup.add")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),a(y,{color:"primary",title:e(l)("game.base.step4.form.backupClean.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(f,{class:"mt-0"},{default:t(()=>[a(p,null,{default:t(()=>[d((m(),n(S,{modelValue:e(s).backupClean.enable,"onUpdate:modelValue":o[2]||(o[2]=r=>e(s).backupClean.enable=r),inline:"",color:"primary",class:"mt-2"},{prepend:t(()=>[g("span",null,V(e(l)("game.base.step4.form.backupClean.name")),1)]),default:t(()=>[a(i,{label:e(l)("game.base.step4.form.backupClean.enable"),value:!0},null,8,["label"]),a(i,{label:e(l)("game.base.step4.form.backupClean.disable"),value:!1},null,8,["label"])]),_:1},8,["modelValue"])),[[b,e(l)("game.base.step4.form.backupClean.tip.name")]])]),_:1}),e(u)?c("",!0):(m(),n(k,{key:0}))]),_:1}),a(f,{class:"mt-0"},{default:t(()=>[a(p,{cols:e(u)?12:4},{default:t(()=>[d((m(),n(h,{modelValue:e(s).backupClean.setting,"onUpdate:modelValue":o[3]||(o[3]=r=>e(s).backupClean.setting=r),rules:e(F).backupClean,disabled:!e(s).backupClean.enable,label:e(l)("game.base.step4.form.backupClean.days"),min:1,style:{"margin-bottom":"-1.25rem"}},{"append-inner":t(()=>[g("div",J,V(e(l)("game.base.step4.form.backupClean.unit")),1)]),_:1},8,["modelValue","rules","disabled","label"])),[[b,e(l)("game.base.step4.form.backupClean.tip.days")]])]),_:1},8,["cols"]),e(u)?c("",!0):(m(),n(k,{key:0}))]),_:1}),a(y,{color:"primary",title:e(l)("game.base.step4.form.restart.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(f,{class:"mt-0"},{default:t(()=>[a(p,null,{default:t(()=>[d((m(),n(S,{modelValue:e(s).restart.enable,"onUpdate:modelValue":o[4]||(o[4]=r=>e(s).restart.enable=r),inline:"",color:"primary",class:"mt-2"},{prepend:t(()=>[g("span",null,V(e(l)("game.base.step4.form.restart.name")),1)]),default:t(()=>[a(i,{label:e(l)("game.base.step4.form.restart.enable"),value:!0},null,8,["label"]),a(i,{label:e(l)("game.base.step4.form.restart.disable"),value:!1},null,8,["label"])]),_:1},8,["modelValue"])),[[b,e(l)("game.base.step4.form.restart.tip.name")]])]),_:1}),e(u)?c("",!0):(m(),n(k,{key:0}))]),_:1}),a(f,{class:"mt-0"},{default:t(()=>[a(p,{cols:e(u)?12:4},{default:t(()=>[d((m(),n(C,{modelValue:e(s).restart.setting,"onUpdate:modelValue":o[6]||(o[6]=r=>e(s).restart.setting=r),disabled:!e(s).restart.enable,label:e(l)("game.base.step4.form.backup.time")},{default:t(()=>[a(U,{"close-on-content-click":!1,activator:"parent"},{default:t(()=>[a(T,{modelValue:e(s).restart.setting,"onUpdate:modelValue":o[5]||(o[5]=r=>e(s).restart.setting=r),"use-seconds":"",format:"24hr"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","disabled","label"])),[[b,e(l)("game.base.step4.form.restart.tip.time")]])]),_:1},8,["cols"]),e(u)?c("",!0):(m(),n(k,{key:0}))]),_:1}),a(y,{color:"primary",title:e(l)("game.base.step4.form.keepalive.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(f,{class:"mt-0"},{default:t(()=>[a(p,null,{default:t(()=>[d((m(),n(S,{modelValue:e(s).keepalive.enable,"onUpdate:modelValue":o[7]||(o[7]=r=>e(s).keepalive.enable=r),inline:"",color:"primary",class:"mt-2"},{prepend:t(()=>[g("span",null,V(e(l)("game.base.step4.form.keepalive.name")),1)]),default:t(()=>[a(i,{label:e(l)("game.base.step4.form.keepalive.enable"),value:!0},null,8,["label"]),a(i,{label:e(l)("game.base.step4.form.keepalive.disable"),value:!1},null,8,["label"])]),_:1},8,["modelValue"])),[[b,e(l)("game.base.step4.form.restart.tip.name")]])]),_:1}),e(u)?c("",!0):(m(),n(k,{key:0}))]),_:1}),a(f,{class:"mt-0"},{default:t(()=>[a(p,{cols:e(u)?12:4},{default:t(()=>[d((m(),n(h,{modelValue:e(s).keepalive.setting,"onUpdate:modelValue":o[8]||(o[8]=r=>e(s).keepalive.setting=r),rules:e(F).keepalive,disabled:!e(s).keepalive.enable,label:e(l)("game.base.step4.form.keepalive.interval"),min:1,style:{"margin-bottom":"-1.25rem"}},{"append-inner":t(()=>[g("div",P,V(e(l)("game.base.step4.form.keepalive.unit")),1)]),_:1},8,["modelValue","rules","disabled","label"])),[[b,e(l)("game.base.step4.form.keepalive.tip.interval")]])]),_:1},8,["cols"]),e(u)?c("",!0):(m(),n(k,{key:0}))]),_:1}),a(y,{color:"primary",title:e(l)("game.base.step4.form.scheduledStartStop.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(f,{class:"mt-0"},{default:t(()=>[a(p,null,{default:t(()=>[d((m(),n(S,{modelValue:e(s).scheduledStartStop.enable,"onUpdate:modelValue":o[9]||(o[9]=r=>e(s).scheduledStartStop.enable=r),inline:"",color:"primary",class:"mt-2"},{prepend:t(()=>[g("span",null,V(e(l)("game.base.step4.form.scheduledStartStop.name")),1)]),default:t(()=>[a(i,{label:e(l)("game.base.step4.form.scheduledStartStop.enable"),value:!0},null,8,["label"]),a(i,{label:e(l)("game.base.step4.form.scheduledStartStop.disable"),value:!1},null,8,["label"])]),_:1},8,["modelValue"])),[[b,e(l)("game.base.step4.form.scheduledStartStop.tip.name")]])]),_:1}),e(u)?c("",!0):(m(),n(k,{key:0}))]),_:1}),a(f,{class:"mt-0"},{default:t(()=>[a(p,{cols:e(u)?12:4},{default:t(()=>[d((m(),n(C,{modelValue:e(s).scheduledStartStop.setting.start,"onUpdate:modelValue":o[11]||(o[11]=r=>e(s).scheduledStartStop.setting.start=r),disabled:!e(s).scheduledStartStop.enable,label:e(l)("game.base.step4.form.scheduledStartStop.time.start")},{default:t(()=>[a(U,{"close-on-content-click":!1,activator:"parent"},{default:t(()=>[a(T,{modelValue:e(s).scheduledStartStop.setting.start,"onUpdate:modelValue":o[10]||(o[10]=r=>e(s).scheduledStartStop.setting.start=r),"use-seconds":"",format:"24hr"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","disabled","label"])),[[b,e(l)("game.base.step4.form.scheduledStartStop.tip.start")]])]),_:1},8,["cols"]),a(p,{cols:e(u)?12:4},{default:t(()=>[d((m(),n(C,{modelValue:e(s).scheduledStartStop.setting.stop,"onUpdate:modelValue":o[13]||(o[13]=r=>e(s).scheduledStartStop.setting.stop=r),disabled:!e(s).scheduledStartStop.enable,label:e(l)("game.base.step4.form.scheduledStartStop.time.stop")},{default:t(()=>[a(U,{"close-on-content-click":!1,activator:"parent"},{default:t(()=>[a(T,{modelValue:e(s).scheduledStartStop.setting.stop,"onUpdate:modelValue":o[12]||(o[12]=r=>e(s).scheduledStartStop.setting.stop=r),"use-seconds":"",format:"24hr"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue","disabled","label"])),[[b,e(l)("game.base.step4.form.scheduledStartStop.tip.stop")]])]),_:1},8,["cols"]),e(u)?c("",!0):(m(),n(k,{key:0}))]),_:1}),a(y,{color:"primary",title:e(l)("game.base.step4.form.tickRate.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(f,{class:"mt-0"},{default:t(()=>[a(p,null,{default:t(()=>[d((m(),n(S,{modelValue:e(s).tickRate,"onUpdate:modelValue":o[14]||(o[14]=r=>e(s).tickRate=r),inline:"",color:"primary",class:"mt-2"},{prepend:t(()=>[g("span",null,V(e(l)("game.base.step4.form.tickRate.name")),1)]),default:t(()=>[a(i,{label:"15",value:15,class:"mr-4"}),a(i,{label:"30",value:30,class:"mr-4"}),a(i,{label:"45",value:45,class:"mr-4"}),a(i,{label:"60",value:60,class:"mr-4"})]),_:1},8,["modelValue"])),[[b,e(l)("game.base.step4.form.tickRate.tip")]])]),_:1}),e(u)?c("",!0):(m(),n(k,{key:0}))]),_:1}),a(y,{color:"primary",title:e(l)("game.base.step4.form.startType.name"),density:"compact",class:"mt-8",variant:"tonal",icon:"ri-bookmark-fill"},null,8,["title"]),a(f,{class:"mt-0"},{default:t(()=>[a(p,null,{default:t(()=>[d((m(),n(S,{modelValue:e(s).startType,"onUpdate:modelValue":o[15]||(o[15]=r=>e(s).startType=r),inline:"",color:"primary",class:"mt-2"},{prepend:t(()=>[g("span",null,V(e(l)("game.base.step4.form.startType.name")),1)]),default:t(()=>[a(i,{label:e(l)("game.base.step4.form.startType.32-bit"),value:"32-bit"},null,8,["label"]),a(i,{label:e(l)("game.base.step4.form.startType.64-bit"),value:"64-bit"},null,8,["label"]),a(i,{label:"LuaJIT",value:"luajit"})]),_:1},8,["modelValue"])),[[b,e(l)("game.base.step4.form.startType.tip")]])]),_:1}),e(u)?c("",!0):(m(),n(k,{key:0}))]),_:1})]),_:1},512))}};export{de as default};
